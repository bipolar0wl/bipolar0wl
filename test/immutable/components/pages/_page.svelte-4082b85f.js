import{S as q,i as F,s as O,k as B,q as U,l as I,m as L,r as X,h as p,n as m,b as v,G as w,I as ae,u as ne,B as T,g as ie,J as se,K as oe,d as le,f as $,t as E,o as Y,L as y,M as b,e as j,w as A,x as N,y as D,N as k,z as P,a as H,c as J}from"../../chunks/index-24e95d3e.js";import{b as K,p as ce}from"../../chunks/store-d27a33de.js";import{P as ue}from"../../chunks/ProductList-c9e8784e.js";function ge(i){let e,t=i[1].name+"",r,n,l,o,s,a;return{c(){e=B("a"),r=U(t),this.h()},l(c){e=I(c,"A",{href:!0,"data-category-name":!0,class:!0});var _=L(e);r=X(_,t),_.forEach(p),this.h()},h(){m(e,"href",n="#"+i[1].name),m(e,"data-category-name",l=i[1].name),m(e,"class",o="category "+(i[0].id===i[1].id?"category--active":"")+" svelte-p1vm2b")},m(c,_){v(c,e,_),w(e,r),s||(a=ae(e,"click",i[2]),s=!0)},p(c,[_]){_&2&&t!==(t=c[1].name+"")&&ne(r,t),_&2&&n!==(n="#"+c[1].name)&&m(e,"href",n),_&2&&l!==(l=c[1].name)&&m(e,"data-category-name",l),_&3&&o!==(o="category "+(c[0].id===c[1].id?"category--active":"")+" svelte-p1vm2b")&&m(e,"class",o)},i:T,o:T,d(c){c&&p(e),s=!1,a()}}}function _e(i,e,t){let{category:r={id:0,name:""}}=e,{currentCategory:n={id:0,name:""}}=e;const l=o=>{o.preventDefault(),t(0,n=r);let s=document.getElementById(r.name),a=s?s.offsetTop:0;window.scrollTo({top:a-40,behavior:"smooth"})};return i.$$set=o=>{"category"in o&&t(1,r=o.category),"currentCategory"in o&&t(0,n=o.currentCategory)},[n,r,l]}class de extends q{constructor(e){super(),F(this,e,_e,ge,O,{category:1,currentCategory:0})}}function W(i,e,t){const r=i.slice();return r[3]=e[t],r}function Q(i,e){let t,r,n,l;function o(a){e[2](a)}let s={category:e[3]};return e[0]!==void 0&&(s.currentCategory=e[0]),r=new de({props:s}),y.push(()=>b(r,"currentCategory",o)),{key:i,first:null,c(){t=j(),A(r.$$.fragment),this.h()},l(a){t=j(),N(r.$$.fragment,a),this.h()},h(){this.first=t},m(a,c){v(a,t,c),D(r,a,c),l=!0},p(a,c){e=a;const _={};c&2&&(_.category=e[3]),!n&&c&1&&(n=!0,_.currentCategory=e[0],k(()=>n=!1)),r.$set(_)},i(a){l||($(r.$$.fragment,a),l=!0)},o(a){E(r.$$.fragment,a),l=!1},d(a){a&&p(t),P(r,a)}}}function fe(i){let e,t=[],r=new Map,n,l=i[1];const o=s=>s[3].id;for(let s=0;s<l.length;s+=1){let a=W(i,l,s),c=o(a);r.set(c,t[s]=Q(c,a))}return{c(){e=B("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=I(s,"DIV",{class:!0});var a=L(e);for(let c=0;c<t.length;c+=1)t[c].l(a);a.forEach(p),this.h()},h(){m(e,"class","categories svelte-wg54rr")},m(s,a){v(s,e,a);for(let c=0;c<t.length;c+=1)t[c].m(e,null);n=!0},p(s,[a]){a&3&&(l=s[1],ie(),t=se(t,a,o,1,s,l,r,e,oe,Q,null,W),le())},i(s){if(!n){for(let a=0;a<l.length;a+=1)$(t[a]);n=!0}},o(s){for(let a=0;a<t.length;a+=1)E(t[a]);n=!1},d(s){s&&p(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function me(i,e,t){let{categories:r=[]}=e,{currentCategory:n={id:0,name:""}}=e;Y(()=>{let o=document.getElementsByClassName("category");[].forEach.call(o,function(s,a,c){})});function l(o){n=o,t(0,n)}return i.$$set=o=>{"categories"in o&&t(1,r=o.categories),"currentCategory"in o&&t(0,n=o.currentCategory)},[n,r,l]}class pe extends q{constructor(e){super(),F(this,e,me,fe,O,{categories:1,currentCategory:0})}}function R(i){let e,t;return{c(){e=B("a"),t=U("\u041A\u0443\u043F\u0438\u0442\u044C"),this.h()},l(r){e=I(r,"A",{class:!0,href:!0});var n=L(e);t=X(n,"\u041A\u0443\u043F\u0438\u0442\u044C"),n.forEach(p),this.h()},h(){m(e,"class","bucket svelte-1p7wndt"),m(e,"href","/basket")},m(r,n){v(r,e,n),w(e,t)},d(r){r&&p(e)}}}function he(i){let e=Object.keys(i[0]).length!==0,t,r=e&&R();return{c(){r&&r.c(),t=j()},l(n){r&&r.l(n),t=j()},m(n,l){r&&r.m(n,l),v(n,t,l)},p(n,[l]){l&1&&(e=Object.keys(n[0]).length!==0),e?r||(r=R(),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:T,o:T,d(n){r&&r.d(n),n&&p(t)}}}function ye(i,e,t){let{basket:r={}}=e;return i.$$set=n=>{"basket"in n&&t(0,r=n.basket)},[r]}class be extends q{constructor(e){super(),F(this,e,ye,he,O,{basket:0})}}function ke(i){let e,t,r,n,l,o,s,a,c,_,f,g,M;function Z(u){i[4](u)}function x(u){i[5](u)}let S={};i[1]!==void 0&&(S.categories=i[1]),i[3]!==void 0&&(S.currentCategory=i[3]),r=new pe({props:S}),y.push(()=>b(r,"categories",Z)),y.push(()=>b(r,"currentCategory",x));function ee(u){i[6](u)}function te(u){i[7](u)}let V={products:i[2],categories:i[1]};i[0]!==void 0&&(V.basket=i[0]),i[3]!==void 0&&(V.currentCategory=i[3]),s=new ue({props:V}),y.push(()=>b(s,"basket",ee)),y.push(()=>b(s,"currentCategory",te));function re(u){i[8](u)}let z={};return i[0]!==void 0&&(z.basket=i[0]),f=new be({props:z}),y.push(()=>b(f,"basket",re)),{c(){e=B("main"),t=B("div"),A(r.$$.fragment),o=H(),A(s.$$.fragment),_=H(),A(f.$$.fragment),this.h()},l(u){e=I(u,"MAIN",{class:!0});var d=L(e);t=I(d,"DIV",{class:!0});var h=L(t);N(r.$$.fragment,h),o=J(h),N(s.$$.fragment,h),_=J(h),N(f.$$.fragment,h),h.forEach(p),d.forEach(p),this.h()},h(){m(t,"class","app svelte-1vr04bw"),m(e,"class","svelte-1vr04bw")},m(u,d){v(u,e,d),w(e,t),D(r,t,null),w(t,o),D(s,t,null),w(t,_),D(f,t,null),M=!0},p(u,[d]){const h={};!n&&d&2&&(n=!0,h.categories=u[1],k(()=>n=!1)),!l&&d&8&&(l=!0,h.currentCategory=u[3],k(()=>l=!1)),r.$set(h);const C={};d&4&&(C.products=u[2]),d&2&&(C.categories=u[1]),!a&&d&1&&(a=!0,C.basket=u[0],k(()=>a=!1)),!c&&d&8&&(c=!0,C.currentCategory=u[3],k(()=>c=!1)),s.$set(C);const G={};!g&&d&1&&(g=!0,G.basket=u[0],k(()=>g=!1)),f.$set(G)},i(u){M||($(r.$$.fragment,u),$(s.$$.fragment,u),$(f.$$.fragment,u),M=!0)},o(u){E(r.$$.fragment,u),E(s.$$.fragment,u),E(f.$$.fragment,u),M=!1},d(u){u&&p(e),P(r),P(s),P(f)}}}function ve(i,e,t){let r=[],n=[],l={},o={};K.subscribe(g=>{t(0,o=g)}),Y(async()=>{t(2,n=[{id:1,description:null,image_uuid:null,category_id:2,name:"\u0425\u0443\u0434\u0438",price:2e5},{id:2,description:null,image_uuid:null,category_id:2,name:"\u041B\u043E\u043D\u0433\u0441\u043B\u0438\u0432",price:15e4},{id:3,description:null,image_uuid:null,category_id:2,name:"\u0424\u0443\u0442\u0431\u043E\u043B\u043A\u0430 \u041F\u043E\u043B\u043E",price:1e5},{id:4,description:null,image_uuid:null,category_id:2,name:"\u0424\u0443\u0442\u0431\u043E\u043B\u043A\u0430",price:85e3},{id:5,description:null,image_uuid:null,category_id:2,name:"\u041F\u043B\u0430\u0442\u044C\u0435",price:2e5},{id:6,description:null,image_uuid:null,category_id:2,name:"\u0414\u0436\u0438\u043D\u0441\u043E\u0432\u0430\u044F \u043A\u0443\u0440\u0442\u043A\u0430",price:25e4},{id:7,description:null,image_uuid:null,category_id:2,name:"\u0414\u0436\u0438\u043D\u0441\u044B",price:18e4},{id:8,description:null,image_uuid:null,category_id:2,name:"\u0411\u0440\u044E\u043A\u0438",price:14e4},{id:9,description:null,image_uuid:null,category_id:2,name:"\u0411\u043E\u043C\u0431\u0435\u0440",price:25e4},{id:10,description:null,image_uuid:null,category_id:3,name:"\u0422\u0443\u0444\u043B\u0438",price:2e5},{id:11,description:null,image_uuid:null,category_id:3,name:"\u041A\u0440\u043E\u0441\u0441\u043E\u0432\u043A\u0438",price:3e5},{id:12,description:null,image_uuid:null,category_id:3,name:"\u0428\u043B\u0451\u043F\u0430\u043D\u0446\u044B",price:1e5},{id:13,description:null,image_uuid:null,category_id:4,name:"\u0411\u043E\u043A\u0441\u0451\u0440\u044B",price:5e4},{id:14,description:null,image_uuid:null,category_id:4,name:"\u0413\u0430\u043B\u0441\u0442\u0443\u043A",price:6e4},{id:15,description:null,image_uuid:null,category_id:4,name:"\u0421\u0443\u043C\u043E\u0447\u043A\u0430",price:12e4}]),ce.set(n),t(1,r=[{id:2,name:"\u041E\u0434\u0435\u0436\u0434\u0430"},{id:3,name:"\u041E\u0431\u0443\u0432\u044C"},{id:4,name:"\u0410\u043A\u0441\u0435\u0441\u0441\u0443\u0430\u0440\u044B"}]),t(3,l=r[0]);let g=window.Telegram.WebApp;g.setBackgroundColor("#ffa"),g.expand(),console.log(g),g.MainButton.show()});function s(g){r=g,t(1,r)}function a(g){l=g,t(3,l)}function c(g){o=g,t(0,o)}function _(g){l=g,t(3,l)}function f(g){o=g,t(0,o)}return i.$$.update=()=>{i.$$.dirty&1&&K.set(o)},[o,r,n,l,s,a,c,_,f]}class Ee extends q{constructor(e){super(),F(this,e,ve,ke,O,{})}}export{Ee as default};
