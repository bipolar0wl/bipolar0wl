import{S as q,i as F,s as O,k as B,q as U,l as I,m as L,r as X,h as m,n as h,b as v,G as w,I as ae,u as se,B as T,g as ne,J as oe,K as ie,d as ce,f as $,t as E,o as Y,L as b,M as y,e as j,w as A,x as N,y as D,N as k,z as P,a as H,c as J}from"../../chunks/index-24e95d3e.js";import{b as K,c as le,p as ue}from"../../chunks/store-a10cd813.js";import{P as fe}from"../../chunks/ProductList-da75f87e.js";function ge(s){let e,t=s[1].name+"",r,n,c,i,o,a;return{c(){e=B("a"),r=U(t),this.h()},l(l){e=I(l,"A",{href:!0,"data-category-name":!0,class:!0});var g=L(e);r=X(g,t),g.forEach(m),this.h()},h(){h(e,"href",n="#"+s[1].name),h(e,"data-category-name",c=s[1].name),h(e,"class",i="category "+(s[0].id===s[1].id?"category--active":"")+" svelte-p1vm2b")},m(l,g){v(l,e,g),w(e,r),o||(a=ae(e,"click",s[2]),o=!0)},p(l,[g]){g&2&&t!==(t=l[1].name+"")&&se(r,t),g&2&&n!==(n="#"+l[1].name)&&h(e,"href",n),g&2&&c!==(c=l[1].name)&&h(e,"data-category-name",c),g&3&&i!==(i="category "+(l[0].id===l[1].id?"category--active":"")+" svelte-p1vm2b")&&h(e,"class",i)},i:T,o:T,d(l){l&&m(e),o=!1,a()}}}function _e(s,e,t){let{category:r={id:0,name:""}}=e,{currentCategory:n={id:0,name:""}}=e;const c=i=>{i.preventDefault(),t(0,n=r);let o=document.getElementById(r.name),a=o?o.offsetTop:0;window.scrollTo({top:a-40,behavior:"smooth"})};return s.$$set=i=>{"category"in i&&t(1,r=i.category),"currentCategory"in i&&t(0,n=i.currentCategory)},[n,r,c]}class de extends q{constructor(e){super(),F(this,e,_e,ge,O,{category:1,currentCategory:0})}}function W(s,e,t){const r=s.slice();return r[3]=e[t],r}function Q(s,e){let t,r,n,c;function i(a){e[2](a)}let o={category:e[3]};return e[0]!==void 0&&(o.currentCategory=e[0]),r=new de({props:o}),b.push(()=>y(r,"currentCategory",i)),{key:s,first:null,c(){t=j(),A(r.$$.fragment),this.h()},l(a){t=j(),N(r.$$.fragment,a),this.h()},h(){this.first=t},m(a,l){v(a,t,l),D(r,a,l),c=!0},p(a,l){e=a;const g={};l&2&&(g.category=e[3]),!n&&l&1&&(n=!0,g.currentCategory=e[0],k(()=>n=!1)),r.$set(g)},i(a){c||($(r.$$.fragment,a),c=!0)},o(a){E(r.$$.fragment,a),c=!1},d(a){a&&m(t),P(r,a)}}}function he(s){let e,t=[],r=new Map,n,c=s[1];const i=o=>o[3].id;for(let o=0;o<c.length;o+=1){let a=W(s,c,o),l=i(a);r.set(l,t[o]=Q(l,a))}return{c(){e=B("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=I(o,"DIV",{class:!0});var a=L(e);for(let l=0;l<t.length;l+=1)t[l].l(a);a.forEach(m),this.h()},h(){h(e,"class","categories svelte-wg54rr")},m(o,a){v(o,e,a);for(let l=0;l<t.length;l+=1)t[l].m(e,null);n=!0},p(o,[a]){a&3&&(c=o[1],ne(),t=oe(t,a,i,1,o,c,r,e,ie,Q,null,W),ce())},i(o){if(!n){for(let a=0;a<c.length;a+=1)$(t[a]);n=!0}},o(o){for(let a=0;a<t.length;a+=1)E(t[a]);n=!1},d(o){o&&m(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function me(s,e,t){let{categories:r=[]}=e,{currentCategory:n={id:0,name:""}}=e;Y(()=>{let i=document.getElementsByClassName("category");[].forEach.call(i,function(o,a,l){})});function c(i){n=i,t(0,n)}return s.$$set=i=>{"categories"in i&&t(1,r=i.categories),"currentCategory"in i&&t(0,n=i.currentCategory)},[n,r,c]}class pe extends q{constructor(e){super(),F(this,e,me,he,O,{categories:1,currentCategory:0})}}function R(s){let e,t;return{c(){e=B("a"),t=U("\u041A\u0443\u043F\u0438\u0442\u044C"),this.h()},l(r){e=I(r,"A",{class:!0,href:!0});var n=L(e);t=X(n,"\u041A\u0443\u043F\u0438\u0442\u044C"),n.forEach(m),this.h()},h(){h(e,"class","bucket svelte-1p7wndt"),h(e,"href","/basket")},m(r,n){v(r,e,n),w(e,t)},d(r){r&&m(e)}}}function be(s){let e=Object.keys(s[0]).length!==0,t,r=e&&R();return{c(){r&&r.c(),t=j()},l(n){r&&r.l(n),t=j()},m(n,c){r&&r.m(n,c),v(n,t,c)},p(n,[c]){c&1&&(e=Object.keys(n[0]).length!==0),e?r||(r=R(),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:T,o:T,d(n){r&&r.d(n),n&&m(t)}}}function ye(s,e,t){let{basket:r={}}=e;return s.$$set=n=>{"basket"in n&&t(0,r=n.basket)},[r]}class ke extends q{constructor(e){super(),F(this,e,ye,be,O,{basket:0})}}function ve(s){let e,t,r,n,c,i,o,a,l,g,d,f,M;function Z(u){s[4](u)}function x(u){s[5](u)}let S={};s[1]!==void 0&&(S.categories=s[1]),s[3]!==void 0&&(S.currentCategory=s[3]),r=new pe({props:S}),b.push(()=>y(r,"categories",Z)),b.push(()=>y(r,"currentCategory",x));function ee(u){s[6](u)}function te(u){s[7](u)}let V={products:s[2],categories:s[1]};s[0]!==void 0&&(V.basket=s[0]),s[3]!==void 0&&(V.currentCategory=s[3]),o=new fe({props:V}),b.push(()=>y(o,"basket",ee)),b.push(()=>y(o,"currentCategory",te));function re(u){s[8](u)}let z={};return s[0]!==void 0&&(z.basket=s[0]),d=new ke({props:z}),b.push(()=>y(d,"basket",re)),{c(){e=B("main"),t=B("div"),A(r.$$.fragment),i=H(),A(o.$$.fragment),g=H(),A(d.$$.fragment),this.h()},l(u){e=I(u,"MAIN",{class:!0});var _=L(e);t=I(_,"DIV",{class:!0});var p=L(t);N(r.$$.fragment,p),i=J(p),N(o.$$.fragment,p),g=J(p),N(d.$$.fragment,p),p.forEach(m),_.forEach(m),this.h()},h(){h(t,"class","app svelte-1vr04bw"),h(e,"class","svelte-1vr04bw")},m(u,_){v(u,e,_),w(e,t),D(r,t,null),w(t,i),D(o,t,null),w(t,g),D(d,t,null),M=!0},p(u,[_]){const p={};!n&&_&2&&(n=!0,p.categories=u[1],k(()=>n=!1)),!c&&_&8&&(c=!0,p.currentCategory=u[3],k(()=>c=!1)),r.$set(p);const C={};_&4&&(C.products=u[2]),_&2&&(C.categories=u[1]),!a&&_&1&&(a=!0,C.basket=u[0],k(()=>a=!1)),!l&&_&8&&(l=!0,C.currentCategory=u[3],k(()=>l=!1)),o.$set(C);const G={};!f&&_&1&&(f=!0,G.basket=u[0],k(()=>f=!1)),d.$set(G)},i(u){M||($(r.$$.fragment,u),$(o.$$.fragment,u),$(d.$$.fragment,u),M=!0)},o(u){E(r.$$.fragment,u),E(o.$$.fragment,u),E(d.$$.fragment,u),M=!1},d(u){u&&m(e),P(r),P(o),P(d)}}}function Ce(s,e,t){let r=[],n=[],c={},i={};K.subscribe(f=>{t(0,i=f)}),le.subscribe(f=>{t(1,r=f)}),ue.subscribe(f=>{t(2,n=f)}),Y(async()=>{t(3,c=r[0]);let f=window.Telegram.WebApp;f.setBackgroundColor("#ffa"),f.expand(),f.MainButton.show()});function o(f){r=f,t(1,r)}function a(f){c=f,t(3,c)}function l(f){i=f,t(0,i)}function g(f){c=f,t(3,c)}function d(f){i=f,t(0,i)}return s.$$.update=()=>{s.$$.dirty&1&&K.set(i)},[i,r,n,c,o,a,l,g,d]}class Be extends q{constructor(e){super(),F(this,e,Ce,ve,O,{})}}export{Be as default};
