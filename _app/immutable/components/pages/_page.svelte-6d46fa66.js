import{S as ae,i as le,s as oe,k as p,q as T,l as v,m as b,r as N,h as m,n as g,b as O,G as u,I as we,u as z,B as U,g as ke,J as Ce,K as $e,d as Ee,f as G,t as W,o as je,L as R,M as X,e as F,w as ee,x as te,y as se,N as Q,z as re,a as M,c as P,O as Be,P as ge}from"../../chunks/index-981bc336.js";import{b as ie,p as Ie,c as De}from"../../chunks/store-6888a841.js";import{P as Ae}from"../../chunks/ProductList-8021890c.js";function Ve(i){let e,t=i[1].name+"",s,n,r,o,a,l;return{c(){e=p("a"),s=T(t),this.h()},l(c){e=v(c,"A",{href:!0,"data-category-name":!0,class:!0});var d=b(e);s=N(d,t),d.forEach(m),this.h()},h(){g(e,"href",n="#"+i[1].name),g(e,"data-category-name",r=i[1].name),g(e,"class",o="category "+(i[0].id===i[1].id?"category--active":"")+" svelte-adoked")},m(c,d){O(c,e,d),u(e,s),a||(l=we(e,"click",i[3]),a=!0)},p(c,[d]){d&2&&t!==(t=c[1].name+"")&&z(s,t),d&2&&n!==(n="#"+c[1].name)&&g(e,"href",n),d&2&&r!==(r=c[1].name)&&g(e,"data-category-name",r),d&3&&o!==(o="category "+(c[0].id===c[1].id?"category--active":"")+" svelte-adoked")&&g(e,"class",o)},i:U,o:U,d(c){c&&m(e),a=!1,l()}}}const me=40;function Me(i,e,t){let{category:s={id:0,name:""}}=e,{currentCategory:n={id:0,name:""}}=e;function r(){let a=document.getElementById(s.name);setTimeout(()=>{document.documentElement.clientHeight==document.body.scrollHeight-window.pageYOffset||window.pageYOffset+me==a.offsetTop?(t(0,n=s),setTimeout(()=>{t(0,n=s)},100)):r()},100)}const o=a=>{a.preventDefault();let l=document.getElementById(s.name),c=l?l.offsetTop:0;window.scrollTo({top:c-me,behavior:"smooth"}),r()};return i.$$set=a=>{"category"in a&&t(1,s=a.category),"currentCategory"in a&&t(0,n=a.currentCategory)},[n,s,r,o]}class Pe extends ae{constructor(e){super(),le(this,e,Me,Ve,oe,{category:1,currentCategory:0})}}function he(i,e,t){const s=i.slice();return s[3]=e[t],s}function pe(i,e){let t,s,n,r;function o(l){e[2](l)}let a={category:e[3]};return e[0]!==void 0&&(a.currentCategory=e[0]),s=new Pe({props:a}),R.push(()=>X(s,"currentCategory",o)),{key:i,first:null,c(){t=F(),ee(s.$$.fragment),this.h()},l(l){t=F(),te(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,c){O(l,t,c),se(s,l,c),r=!0},p(l,c){e=l;const d={};c&2&&(d.category=e[3]),!n&&c&1&&(n=!0,d.currentCategory=e[0],Q(()=>n=!1)),s.$set(d)},i(l){r||(G(s.$$.fragment,l),r=!0)},o(l){W(s.$$.fragment,l),r=!1},d(l){l&&m(t),re(s,l)}}}function Te(i){let e,t=[],s=new Map,n,r=i[1];const o=a=>a[3].id;for(let a=0;a<r.length;a+=1){let l=he(i,r,a),c=o(l);s.set(c,t[a]=pe(c,l))}return{c(){e=p("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=v(a,"DIV",{class:!0});var l=b(e);for(let c=0;c<t.length;c+=1)t[c].l(l);l.forEach(m),this.h()},h(){g(e,"class","categories svelte-xbh343")},m(a,l){O(a,e,l);for(let c=0;c<t.length;c+=1)t[c].m(e,null);n=!0},p(a,[l]){l&3&&(r=a[1],ke(),t=Ce(t,l,o,1,a,r,s,e,$e,pe,null,he),Ee())},i(a){if(!n){for(let l=0;l<r.length;l+=1)G(t[l]);n=!0}},o(a){for(let l=0;l<t.length;l+=1)W(t[l]);n=!1},d(a){a&&m(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function Ne(i,e,t){let{categories:s=[]}=e,{currentCategory:n={id:0,name:""}}=e;je(()=>{let o=document.getElementsByClassName("category");[].forEach.call(o,function(a,l,c){})});function r(o){n=o,t(0,n)}return i.$$set=o=>{"categories"in o&&t(1,s=o.categories),"currentCategory"in o&&t(0,n=o.currentCategory)},[n,s,r]}class Se extends ae{constructor(e){super(),le(this,e,Ne,Te,oe,{categories:1,currentCategory:0})}}function ve(i,e,t){const s=i.slice();return s[2]=e[t],s}function be(i){let e,t,s,n,r,o,a,l,c=i[2].name+"",d,k,h=(i[0][i[2].id]||0)+"",f,y,_,I,$=i[2].description+"",j,Y,S,A=i[2].price+"",V,q;return{c(){e=p("div"),t=p("div"),s=p("img"),r=M(),o=p("div"),a=p("div"),l=p("span"),d=T(c),k=p("span"),f=T(h),y=T("x"),_=M(),I=p("span"),j=T($),Y=M(),S=p("div"),V=T(A),q=M(),this.h()},l(w){e=v(w,"DIV",{class:!0});var B=b(e);t=v(B,"DIV",{class:!0});var L=b(t);s=v(L,"IMG",{class:!0,src:!0,alt:!0}),r=P(L),o=v(L,"DIV",{class:!0});var H=b(o);a=v(H,"DIV",{class:!0});var C=b(a);l=v(C,"SPAN",{class:!0});var E=b(l);d=N(E,c),E.forEach(m),k=v(C,"SPAN",{class:!0});var D=b(k);f=N(D,h),y=N(D,"x"),D.forEach(m),C.forEach(m),_=P(H),I=v(H,"SPAN",{class:!0});var J=b(I);j=N(J,$),J.forEach(m),H.forEach(m),L.forEach(m),Y=P(B),S=v(B,"DIV",{class:!0});var K=b(S);V=N(K,A),K.forEach(m),q=P(B),B.forEach(m),this.h()},h(){g(s,"class","item__img svelte-mxor1j"),ge(s.src,n=i[2].image)||g(s,"src",n),g(s,"alt",""),g(l,"class","item__name svelte-mxor1j"),g(k,"class","item__count svelte-mxor1j"),g(a,"class","svelte-mxor1j"),g(I,"class","item__description svelte-mxor1j"),g(o,"class","item__text svelte-mxor1j"),g(t,"class","item__info svelte-mxor1j"),g(S,"class","item__price svelte-mxor1j"),g(e,"class","item svelte-mxor1j")},m(w,B){O(w,e,B),u(e,t),u(t,s),u(t,r),u(t,o),u(o,a),u(a,l),u(l,d),u(a,k),u(k,f),u(k,y),u(o,_),u(o,I),u(I,j),u(e,Y),u(e,S),u(S,V),u(e,q)},p(w,B){B&2&&!ge(s.src,n=w[2].image)&&g(s,"src",n),B&2&&c!==(c=w[2].name+"")&&z(d,c),B&3&&h!==(h=(w[0][w[2].id]||0)+"")&&z(f,h),B&2&&$!==($=w[2].description+"")&&z(j,$),B&2&&A!==(A=w[2].price+"")&&z(V,A)},d(w){w&&m(e)}}}function ye(i,e){let t,s,n=e[0][e[2].id]!=null&&be(e);return{key:i,first:null,c(){t=F(),n&&n.c(),s=F(),this.h()},l(r){t=F(),n&&n.l(r),s=F(),this.h()},h(){this.first=t},m(r,o){O(r,t,o),n&&n.m(r,o),O(r,s,o)},p(r,o){e=r,e[0][e[2].id]!=null?n?n.p(e,o):(n=be(e),n.c(),n.m(s.parentNode,s)):n&&(n.d(1),n=null)},d(r){r&&m(t),n&&n.d(r),r&&m(s)}}}function Le(i){let e,t,s,n,r,o,a,l,c,d,k,h,f,y,_,I,$,j=[],Y=new Map,S,A,V,q,w,B,L=i[1];const H=C=>C[2].id;for(let C=0;C<L.length;C+=1){let E=ve(i,L,C),D=H(E);Y.set(D,j[C]=ye(D,E))}return{c(){e=p("div"),t=p("div"),s=p("a"),n=T("\u2190"),r=M(),o=p("a"),a=T("\u041C\u0430\u0433\u0430\u0437\u0438\u043D"),l=M(),c=p("div"),d=p("div"),k=p("p"),h=T("\u0412\u0430\u0448 \u0437\u0430\u043A\u0430\u0437"),f=M(),y=p("a"),_=T("\u041D\u0430\u0437\u0430\u0434"),I=M(),$=p("div");for(let C=0;C<j.length;C+=1)j[C].c();S=M(),A=p("div"),V=p("textarea"),q=M(),w=p("a"),B=T("\u0417\u0430\u043A\u0430\u0437\u0430\u0442\u044C"),this.h()},l(C){e=v(C,"DIV",{class:!0});var E=b(e);t=v(E,"DIV",{class:!0});var D=b(t);s=v(D,"A",{href:!0,class:!0});var J=b(s);n=N(J,"\u2190"),J.forEach(m),r=P(D),o=v(D,"A",{href:!0,class:!0});var K=b(o);a=N(K,"\u041C\u0430\u0433\u0430\u0437\u0438\u043D"),K.forEach(m),D.forEach(m),l=P(E),c=v(E,"DIV",{class:!0});var Z=b(c);d=v(Z,"DIV",{class:!0});var x=b(d);k=v(x,"P",{class:!0});var ce=b(k);h=N(ce,"\u0412\u0430\u0448 \u0437\u0430\u043A\u0430\u0437"),ce.forEach(m),f=P(x),y=v(x,"A",{href:!0,class:!0});var ue=b(y);_=N(ue,"\u041D\u0430\u0437\u0430\u0434"),ue.forEach(m),x.forEach(m),I=P(Z),$=v(Z,"DIV",{class:!0});var _e=b($);for(let ne=0;ne<j.length;ne+=1)j[ne].l(_e);_e.forEach(m),Z.forEach(m),S=P(E),A=v(E,"DIV",{class:!0});var fe=b(A);V=v(fe,"TEXTAREA",{class:!0,type:!0,placeholder:!0}),b(V).forEach(m),fe.forEach(m),q=P(E),w=v(E,"A",{class:!0});var de=b(w);B=N(de,"\u0417\u0430\u043A\u0430\u0437\u0430\u0442\u044C"),de.forEach(m),E.forEach(m),this.h()},h(){g(s,"href","/"),g(s,"class","svelte-mxor1j"),g(o,"href","/"),g(o,"class","svelte-mxor1j"),g(t,"class","basket__back svelte-mxor1j"),g(k,"class","basket__order__title svelte-mxor1j"),g(y,"href","/"),g(y,"class","svelte-mxor1j"),g(d,"class","basket__order__actions svelte-mxor1j"),g($,"class","basket__order__list svelte-mxor1j"),g(c,"class","basket__order svelte-mxor1j"),g(V,"class","basket__comment svelte-mxor1j"),g(V,"type","text"),g(V,"placeholder","\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439"),g(A,"class","svelte-mxor1j"),g(w,"class","basket__buy svelte-mxor1j"),g(e,"class","basket svelte-mxor1j")},m(C,E){O(C,e,E),u(e,t),u(t,s),u(s,n),u(t,r),u(t,o),u(o,a),u(e,l),u(e,c),u(c,d),u(d,k),u(k,h),u(d,f),u(d,y),u(y,_),u(c,I),u(c,$);for(let D=0;D<j.length;D+=1)j[D].m($,null);u(e,S),u(e,A),u(A,V),u(e,q),u(e,w),u(w,B)},p(C,[E]){E&3&&(L=C[1],j=Ce(j,E,H,1,C,L,Y,$,Be,ye,null,ve))},i:U,o:U,d(C){C&&m(e);for(let E=0;E<j.length;E+=1)j[E].d()}}}function Oe(i,e,t){let s={};ie.subscribe(r=>{t(0,s=r)});let n=[];return Ie.subscribe(r=>{t(1,n=r)}),[s,n]}class qe extends ae{constructor(e){super(),le(this,e,Oe,Le,oe,{})}}function He(i){let e,t;return e=new qe({}),{c(){ee(e.$$.fragment)},l(s){te(e.$$.fragment,s)},m(s,n){se(e,s,n),t=!0},p:U,i(s){t||(G(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){re(e,s)}}}function Ge(i){let e,t,s,n,r,o,a,l;function c(_){i[6](_)}function d(_){i[7](_)}let k={};i[1]!==void 0&&(k.categories=i[1]),i[3]!==void 0&&(k.currentCategory=i[3]),e=new Se({props:k}),R.push(()=>X(e,"categories",c)),R.push(()=>X(e,"currentCategory",d));function h(_){i[8](_)}function f(_){i[9](_)}let y={products:i[2],categories:i[1]};return i[0]!==void 0&&(y.basket=i[0]),i[3]!==void 0&&(y.currentCategory=i[3]),r=new Ae({props:y}),R.push(()=>X(r,"basket",h)),R.push(()=>X(r,"currentCategory",f)),{c(){ee(e.$$.fragment),n=M(),ee(r.$$.fragment)},l(_){te(e.$$.fragment,_),n=P(_),te(r.$$.fragment,_)},m(_,I){se(e,_,I),O(_,n,I),se(r,_,I),l=!0},p(_,I){const $={};!t&&I&2&&(t=!0,$.categories=_[1],Q(()=>t=!1)),!s&&I&8&&(s=!0,$.currentCategory=_[3],Q(()=>s=!1)),e.$set($);const j={};I&4&&(j.products=_[2]),I&2&&(j.categories=_[1]),!o&&I&1&&(o=!0,j.basket=_[0],Q(()=>o=!1)),!a&&I&8&&(a=!0,j.currentCategory=_[3],Q(()=>a=!1)),r.$set(j)},i(_){l||(G(e.$$.fragment,_),G(r.$$.fragment,_),l=!0)},o(_){W(e.$$.fragment,_),W(r.$$.fragment,_),l=!1},d(_){re(e,_),_&&m(n),re(r,_)}}}function We(i){let e,t,s,n,r,o,a,l;const c=[Ge,He],d=[];function k(h,f){return h[4]==0?0:1}return o=k(i),a=d[o]=c[o](i),{c(){e=p("main"),t=p("b"),s=T(i[5]),n=M(),r=p("div"),a.c(),this.h()},l(h){e=v(h,"MAIN",{class:!0});var f=b(e);t=v(f,"B",{class:!0});var y=b(t);s=N(y,i[5]),y.forEach(m),n=P(f),r=v(f,"DIV",{class:!0});var _=b(r);a.l(_),_.forEach(m),f.forEach(m),this.h()},h(){g(t,"class","svelte-10l4d0h"),g(r,"class","app svelte-10l4d0h"),g(e,"class","svelte-10l4d0h")},m(h,f){O(h,e,f),u(e,t),u(t,s),u(e,n),u(e,r),d[o].m(r,null),l=!0},p(h,[f]){(!l||f&32)&&z(s,h[5]);let y=o;o=k(h),o===y?d[o].p(h,f):(ke(),W(d[y],1,1,()=>{d[y]=null}),Ee(),a=d[o],a?a.p(h,f):(a=d[o]=c[o](h),a.c()),G(a,1),a.m(r,null))},i(h){l||(G(a),l=!0)},o(h){W(a),l=!1},d(h){h&&m(e),d[o].d()}}}function Ye(i,e,t){let s=[],n=[],r={},o={},a=0,l=0;De.subscribe(f=>{t(1,s=f)}),Ie.subscribe(f=>{t(2,n=f)}),je(async()=>{let f=window.Telegram.WebApp;t(3,r=s[0]),f.expand(),f.MainButton.setText("\u041F\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u0437\u0430\u043A\u0430\u0437"),f.MainButton.setParams({color:"#31b545"}),f.setBackgroundColor("secondary_bg_color"),f.WebApp.onEvent("mainButtonClicked",function(){t(4,a=a==0?1:0),t(5,l++,l)}),ie.subscribe(y=>{t(0,o=y),Object.keys(o).length!==0?f.MainButton.show():f.MainButton.hide()})});function c(f){s=f,t(1,s)}function d(f){r=f,t(3,r)}function k(f){o=f,t(0,o)}function h(f){r=f,t(3,r)}return i.$$.update=()=>{i.$$.dirty&1&&ie.set(o)},[o,s,n,r,a,l,c,d,k,h]}class Ke extends ae{constructor(e){super(),le(this,e,Ye,We,oe,{})}}export{Ke as default};
