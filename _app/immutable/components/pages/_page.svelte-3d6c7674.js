import{S as q,i as F,s as O,k as I,q as U,l as L,m as M,r as X,h as p,n as m,b as v,G as $,I as ne,u as ae,B as T,g as ie,J as se,d as oe,f as E,t as B,o as Y,K as y,L as b,e as j,w as A,x as N,y as D,M as k,z as P,N as le,a as H,c as J}from"../../chunks/index-b4b8f34e.js";import{b as K}from"../../chunks/basket-d47175f6.js";import{P as ce}from"../../chunks/ProductList-b3571a04.js";function ue(a){let e,t=a[1].name+"",r,i,l,o,s,n;return{c(){e=I("a"),r=U(t),this.h()},l(c){e=L(c,"A",{href:!0,"data-category-name":!0,class:!0});var _=M(e);r=X(_,t),_.forEach(p),this.h()},h(){m(e,"href",i="#"+a[1].name),m(e,"data-category-name",l=a[1].name),m(e,"class",o="category "+(a[0].id===a[1].id?"category--active":"")+" svelte-p1vm2b")},m(c,_){v(c,e,_),$(e,r),s||(n=ne(e,"click",a[2]),s=!0)},p(c,[_]){_&2&&t!==(t=c[1].name+"")&&ae(r,t),_&2&&i!==(i="#"+c[1].name)&&m(e,"href",i),_&2&&l!==(l=c[1].name)&&m(e,"data-category-name",l),_&3&&o!==(o="category "+(c[0].id===c[1].id?"category--active":"")+" svelte-p1vm2b")&&m(e,"class",o)},i:T,o:T,d(c){c&&p(e),s=!1,n()}}}function ge(a,e,t){let{category:r={id:0,name:""}}=e,{currentCategory:i={id:0,name:""}}=e;const l=o=>{o.preventDefault(),t(0,i=r);let s=document.getElementById(r.name),n=s?s.offsetTop:0;window.scrollTo({top:n-40,behavior:"smooth"})};return a.$$set=o=>{"category"in o&&t(1,r=o.category),"currentCategory"in o&&t(0,i=o.currentCategory)},[i,r,l]}class _e extends q{constructor(e){super(),F(this,e,ge,ue,O,{category:1,currentCategory:0})}}function W(a,e,t){const r=a.slice();return r[3]=e[t],r}function Q(a,e){let t,r,i,l;function o(n){e[2](n)}let s={category:e[3]};return e[0]!==void 0&&(s.currentCategory=e[0]),r=new _e({props:s}),y.push(()=>b(r,"currentCategory",o)),{key:a,first:null,c(){t=j(),A(r.$$.fragment),this.h()},l(n){t=j(),N(r.$$.fragment,n),this.h()},h(){this.first=t},m(n,c){v(n,t,c),D(r,n,c),l=!0},p(n,c){e=n;const _={};c&2&&(_.category=e[3]),!i&&c&1&&(i=!0,_.currentCategory=e[0],k(()=>i=!1)),r.$set(_)},i(n){l||(E(r.$$.fragment,n),l=!0)},o(n){B(r.$$.fragment,n),l=!1},d(n){n&&p(t),P(r,n)}}}function de(a){let e,t=[],r=new Map,i,l=a[1];const o=s=>s[3].id;for(let s=0;s<l.length;s+=1){let n=W(a,l,s),c=o(n);r.set(c,t[s]=Q(c,n))}return{c(){e=I("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=L(s,"DIV",{class:!0});var n=M(e);for(let c=0;c<t.length;c+=1)t[c].l(n);n.forEach(p),this.h()},h(){m(e,"class","categories svelte-wg54rr")},m(s,n){v(s,e,n);for(let c=0;c<t.length;c+=1)t[c].m(e,null);i=!0},p(s,[n]){n&3&&(l=s[1],ie(),t=se(t,n,o,1,s,l,r,e,le,Q,null,W),oe())},i(s){if(!i){for(let n=0;n<l.length;n+=1)E(t[n]);i=!0}},o(s){for(let n=0;n<t.length;n+=1)B(t[n]);i=!1},d(s){s&&p(e);for(let n=0;n<t.length;n+=1)t[n].d()}}}function fe(a,e,t){let{categories:r=[]}=e,{currentCategory:i={id:0,name:""}}=e;Y(()=>{let o=document.getElementsByClassName("category");[].forEach.call(o,function(s,n,c){})});function l(o){i=o,t(0,i)}return a.$$set=o=>{"categories"in o&&t(1,r=o.categories),"currentCategory"in o&&t(0,i=o.currentCategory)},[i,r,l]}class me extends q{constructor(e){super(),F(this,e,fe,de,O,{categories:1,currentCategory:0})}}function R(a){let e,t;return{c(){e=I("a"),t=U("\u041A\u0443\u043F\u0438\u0442\u044C"),this.h()},l(r){e=L(r,"A",{class:!0,href:!0});var i=M(e);t=X(i,"\u041A\u0443\u043F\u0438\u0442\u044C"),i.forEach(p),this.h()},h(){m(e,"class","bucket svelte-1p7wndt"),m(e,"href","/basket")},m(r,i){v(r,e,i),$(e,t)},d(r){r&&p(e)}}}function pe(a){let e=Object.keys(a[0]).length!==0,t,r=e&&R();return{c(){r&&r.c(),t=j()},l(i){r&&r.l(i),t=j()},m(i,l){r&&r.m(i,l),v(i,t,l)},p(i,[l]){l&1&&(e=Object.keys(i[0]).length!==0),e?r||(r=R(),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:T,o:T,d(i){r&&r.d(i),i&&p(t)}}}function he(a,e,t){let{basket:r={}}=e;return a.$$set=i=>{"basket"in i&&t(0,r=i.basket)},[r]}class ye extends q{constructor(e){super(),F(this,e,he,pe,O,{basket:0})}}function be(a){let e,t,r,i,l,o,s,n,c,_,f,C,g;function Z(u){a[5](u)}function x(u){a[6](u)}let S={};a[1]!==void 0&&(S.categories=a[1]),a[3]!==void 0&&(S.currentCategory=a[3]),r=new me({props:S}),y.push(()=>b(r,"categories",Z)),y.push(()=>b(r,"currentCategory",x));function ee(u){a[7](u)}function te(u){a[8](u)}let V={products:a[2],categories:a[1]};a[0]!==void 0&&(V.basket=a[0]),a[3]!==void 0&&(V.currentCategory=a[3]),s=new ce({props:V}),y.push(()=>b(s,"basket",ee)),y.push(()=>b(s,"currentCategory",te));function re(u){a[9](u)}let z={};return a[0]!==void 0&&(z.basket=a[0]),f=new ye({props:z}),y.push(()=>b(f,"basket",re)),{c(){e=I("main"),t=I("div"),A(r.$$.fragment),o=H(),A(s.$$.fragment),_=H(),A(f.$$.fragment),this.h()},l(u){e=L(u,"MAIN",{class:!0});var d=M(e);t=L(d,"DIV",{class:!0});var h=M(t);N(r.$$.fragment,h),o=J(h),N(s.$$.fragment,h),_=J(h),N(f.$$.fragment,h),h.forEach(p),d.forEach(p),this.h()},h(){m(t,"class","app svelte-1vr04bw"),m(e,"class","svelte-1vr04bw")},m(u,d){v(u,e,d),$(e,t),D(r,t,null),$(t,o),D(s,t,null),$(t,_),D(f,t,null),g=!0},p(u,[d]){const h={};!i&&d&2&&(i=!0,h.categories=u[1],k(()=>i=!1)),!l&&d&8&&(l=!0,h.currentCategory=u[3],k(()=>l=!1)),r.$set(h);const w={};d&4&&(w.products=u[2]),d&2&&(w.categories=u[1]),!n&&d&1&&(n=!0,w.basket=u[0],k(()=>n=!1)),!c&&d&8&&(c=!0,w.currentCategory=u[3],k(()=>c=!1)),s.$set(w);const G={};!C&&d&1&&(C=!0,G.basket=u[0],k(()=>C=!1)),f.$set(G)},i(u){g||(E(r.$$.fragment,u),E(s.$$.fragment,u),E(f.$$.fragment,u),g=!0)},o(u){B(r.$$.fragment,u),B(s.$$.fragment,u),B(f.$$.fragment,u),g=!1},d(u){u&&p(e),P(r),P(s),P(f)}}}function ke(a,e,t){let r=[],i=[],l={},o={};K.subscribe(g=>{t(0,o=g)}),Y(async()=>{t(2,i=[{id:1,description:null,image_uuid:null,category_id:2,name:"\u0425\u0443\u0434\u0438",price:2e5},{id:2,description:null,image_uuid:null,category_id:2,name:"\u041B\u043E\u043D\u0433\u0441\u043B\u0438\u0432",price:15e4},{id:3,description:null,image_uuid:null,category_id:2,name:"\u0424\u0443\u0442\u0431\u043E\u043B\u043A\u0430 \u041F\u043E\u043B\u043E",price:1e5},{id:4,description:null,image_uuid:null,category_id:2,name:"\u0424\u0443\u0442\u0431\u043E\u043B\u043A\u0430",price:85e3},{id:5,description:null,image_uuid:null,category_id:2,name:"\u041F\u043B\u0430\u0442\u044C\u0435",price:2e5},{id:6,description:null,image_uuid:null,category_id:2,name:"\u0414\u0436\u0438\u043D\u0441\u043E\u0432\u0430\u044F \u043A\u0443\u0440\u0442\u043A\u0430",price:25e4},{id:7,description:null,image_uuid:null,category_id:2,name:"\u0414\u0436\u0438\u043D\u0441\u044B",price:18e4},{id:8,description:null,image_uuid:null,category_id:2,name:"\u0411\u0440\u044E\u043A\u0438",price:14e4},{id:9,description:null,image_uuid:null,category_id:2,name:"\u0411\u043E\u043C\u0431\u0435\u0440",price:25e4},{id:10,description:null,image_uuid:null,category_id:3,name:"\u0422\u0443\u0444\u043B\u0438",price:2e5},{id:11,description:null,image_uuid:null,category_id:3,name:"\u041A\u0440\u043E\u0441\u0441\u043E\u0432\u043A\u0438",price:3e5},{id:12,description:null,image_uuid:null,category_id:3,name:"\u0428\u043B\u0451\u043F\u0430\u043D\u0446\u044B",price:1e5},{id:13,description:null,image_uuid:null,category_id:4,name:"\u0411\u043E\u043A\u0441\u0451\u0440\u044B",price:5e4},{id:14,description:null,image_uuid:null,category_id:4,name:"\u0413\u0430\u043B\u0441\u0442\u0443\u043A",price:6e4},{id:15,description:null,image_uuid:null,category_id:4,name:"\u0421\u0443\u043C\u043E\u0447\u043A\u0430",price:12e4}]),t(1,r=[{id:2,name:"\u041E\u0434\u0435\u0436\u0434\u0430"},{id:3,name:"\u041E\u0431\u0443\u0432\u044C"},{id:4,name:"\u0410\u043A\u0441\u0435\u0441\u0441\u0443\u0430\u0440\u044B"}]),t(3,l=r[0]);let g=window.Telegram.WebApp;g.expand(),console.log(g),g.MainButton.show()});const s=!0;function n(g){r=g,t(1,r)}function c(g){l=g,t(3,l)}function _(g){o=g,t(0,o)}function f(g){l=g,t(3,l)}function C(g){o=g,t(0,o)}return a.$$.update=()=>{a.$$.dirty&1&&K.set(o)},[o,r,i,l,s,n,c,_,f,C]}class $e extends q{constructor(e){super(),F(this,e,ke,be,O,{prerender:4})}get prerender(){return this.$$.ctx[4]}}export{$e as default};
